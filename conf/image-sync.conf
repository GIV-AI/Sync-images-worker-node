# ============================================================================
# Image Sync - Configuration File
# ============================================================================
# Configuration for synchronizing container images between Kubernetes
# worker nodes.
#
# Author: Global Infoventures - GRIL Team
#
# Location: /etc/image-sync/image-sync.conf
#
# ============================================================================

# ============================================================================
# REQUIRED SETTINGS
# ============================================================================
# These settings MUST be configured before running the script.

# Worker node hostnames (must be accessible via SSH with key-based auth)
NODE1="k8s-worker1"
NODE2="k8s-worker2"

# Primary image prefix to sync (required)
# Example: "bcm11" for Harbor registry images
PREFIX1="bcm11"

# Logging directory (will be created if it doesn't exist)
LOG_DIR="/var/log/giindia/image-sync"

# ============================================================================
# OPTIONAL SETTINGS
# ============================================================================
# These settings have sensible defaults and can be customized as needed.

# Secondary image prefix to sync (optional, leave empty to disable)
# Example: "nvcr.io/nvidia" for NVIDIA NGC images
PREFIX2="nvcr.io/nvidia"

# Maximum time (in seconds) allowed for pulling a single image.
# Any pull exceeding this limit will be terminated and logged as TIMEOUT.
# Default: 1800 (30 minutes)
# Minimum: 60 seconds
TIME_OUT=1800

# Maximum number of parallel image pulls per node.
# Higher values speed up sync but increase network/disk load.
# Default: 4
# Minimum: 1
MAX_PARALLEL=4

# SSH connection timeout (in seconds) for node connectivity checks.
# Increase this if nodes have high latency or slow SSH handshakes.
# Default: 10
SSH_CONNECT_TIMEOUT=10

# ============================================================================
# LOG MANAGEMENT SETTINGS
# ============================================================================
# Logs are created daily with date suffix (e.g., image-sync-2025-12-04.log)

# Log level threshold for filtering messages.
# Only messages at or above this level will be logged.
# Valid values: DEBUG, INFO, WARNING, ERROR
# Default: INFO
LOG_LEVEL="INFO"

# Maximum size (in bytes) for each daily log file.
# Once a log file reaches this size, no more entries are written for that day.
# Default: 10485760 (10 MB)
MAX_LOG_SIZE=10485760

# Number of days to retain log files.
# Logs older than this many days are automatically deleted on startup.
# Default: 30
LOG_RETENTION_DAYS=30

